window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a){return window.setTimeout(a,1e3/60)});var stats=new Stats;!function(a,b){function c(c,d){function e(){this.x=Math.random()*c.width,this.y=Math.random()*c.height,this.vx=i.velocity-.5*Math.random(),this.vy=i.velocity-.5*Math.random(),this.radius=Math.random()*i.star.width}var f=a(c),g=c.getContext("2d"),h={star:{color:"rgba(255, 255, 255, .5)",width:1},line:{color:"rgba(255, 255, 255, .5)",width:.2},position:{x:0,y:0},width:b.innerWidth,height:b.innerHeight,velocity:.1,length:100,distance:120,radius:150,stars:[]},i=a.extend(!0,{},h,d);e.prototype={create:function(){g.beginPath(),g.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),g.fill()},animate:function(){var a;for(a=0;a<i.length;a++){var b=i.stars[a];b.y<0||b.y>c.height?(b.vx=b.vx,b.vy=-b.vy):(b.x<0||b.x>c.width)&&(b.vx=-b.vx,b.vy=b.vy),b.x+=b.vx,b.y+=b.vy}},line:function(){var a,b,c,d,e=i.length;for(c=0;e>c;c++)for(d=0;e>d;d++)a=i.stars[c],b=i.stars[d],a.x-b.x<i.distance&&a.y-b.y<i.distance&&a.x-b.x>-i.distance&&a.y-b.y>-i.distance&&a.x-i.position.x<i.radius&&a.y-i.position.y<i.radius&&a.x-i.position.x>-i.radius&&a.y-i.position.y>-i.radius&&(g.beginPath(),g.moveTo(a.x,a.y),g.lineTo(b.x,b.y),g.stroke(),g.closePath())}},this.createStars=function(){var a,b,d=i.length;for(g.clearRect(0,0,c.width,c.height),b=0;d>b;b++)i.stars.push(new e),a=i.stars[b],a.create();a.line(),a.animate()},this.setCanvas=function(){c.width=i.width,c.height=i.height},this.setContext=function(){g.fillStyle=i.star.color,g.strokeStyle=i.line.color,g.lineWidth=i.line.width},this.setInitialPosition=function(){d&&d.hasOwnProperty("position")||(i.position={x:.5*c.width,y:.5*c.height})},this.loop=function(a){a(),b.requestAnimationFrame(function(){this.loop(a)}.bind(this))},this.bind=function(){f.on("mousemove",function(a){i.position.x=a.pageX-f.offset().left,i.position.y=a.pageY-f.offset().top})},this.init=function(){this.setCanvas(),this.setContext(),this.setInitialPosition(),this.loop(this.createStars),this.bind()}}a.fn.constellation=function(a){return this.each(function(){var b=new c(this,a);b.init()})}}($,window),$("canvas").constellation({star:{width:3},line:{color:"#97743a"},radius:250}),$(document).ready(function(){$("#fullpage").fullpage({anchors:["start","about","work","contact"],recordHistory:!0,scrollingSpeed:1e3,slidesNavigation:!0,loopHorizontal:!1,afterLoad:function(a,b){2==b&&($("#menu").find("li").eq(0).addClass("active"),$("#menu").find("li").eq(1).removeClass("active"),$("#menu").find("li").eq(2).removeClass("active")),3==b&&($("#menu").find("li").eq(1).addClass("active"),$("#menu").find("li").eq(0).removeClass("active"),$("#menu").find("li").eq(2).removeClass("active")),4==b&&($("#menu").find("li").eq(2).addClass("active"),$("#menu").find("li").eq(1).removeClass("active"),$("#menu").find("li").eq(0).removeClass("active"))}}),$("#toggle").click(function(){$(this).toggleClass("on"),$("#menu").toggleClass("visible")}),$("#menu ul li a").click(function(){$("#toggle").toggleClass("on"),$("#menu").toggleClass("visible")})});